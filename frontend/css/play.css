/* Actual game */
[cell-id="0"] {--bg: var(--cell-color);}
[cell-id="1"] {--bg: var(--start-color);}
[cell-id="2"] {--bg: var(--dl-color);}
[cell-id="3"] {--bg: var(--dw-color);}
[cell-id="4"] {--bg: var(--tl-color);}
[cell-id="5"] {--bg: var(--tw-color);}
[cell-id="6"] {--bg: var(--ql-color);}
[cell-id="7"] {--bg: var(--qw-color);}

.play-screen {
	flex-direction: row;
	align-items: flex-end;
	padding: 1rem;
}

.play-column1 {
	flex-grow: 1;
	height: 100%;
	margin-right: 1rem;
}

.play-column2 {
	display: grid;
	grid-template-columns: repeat(2, auto);
	grid-template-rows: repeat(2, auto);
}

.cell-sizer, .cell-spacing-sizer, .small-tile-sizer, .big-tile-sizer {
	position: absolute;
	top: 0;
	left: 0;
	height: 0;
	pointer-events: none;
	visibility: hidden;
}
.cell-sizer {width: 1rem;}
.small-tile-sizer {width: var(--small-tile-dimension);}
.big-tile-sizer {width: var(--big-tile-dimension);}

.player-icon {
	--dimension: var(--big-tile-dimension);
	justify-content: center;
	align-items: center;
	min-width: var(--dimension);
	height: var(--dimension);
	background: var(--tile-color);
}
.player-icon svg {height: calc(0.6 * var(--dimension));}



/** Play column 1 */
/* Score */
.score-container {
	position: relative;
	width: 100%;
	margin-bottom: 0.5rem;
}

.score-box {
	flex-direction: row;
	align-items: center;
	width: 100%;
	padding-right: 0.5rem;
	border: var(--input-border-width) solid var(--ui-color2);
	z-index: 11;
}
.score-box + .score-box {margin-top: calc(-1 * var(--input-border-width));}

.score-box .player-icon {border-right: var(--input-border-width) solid var(--ui-color2);}

.player-name {
	flex-grow: 1;
	font-size: 0.45rem;
	padding-left: 0.3rem;
}

.player-score {
	font-family: var(--font2);
	font-size: 0.8rem;
	font-weight: 200;
}

.current-player-indicator-bg,
.current-player-indicator-border {
	position: absolute;
	transition: all 0.2s;
}
.current-player-indicator-bg {
	left: 0;
	width: 100%;
	height: 50%;
	background: var(--ui-color3);
	z-index: 10;
}
.current-player-indicator-border {
	--border-width: calc(2 * var(--input-border-width));
	left: calc(-1 * var(--border-width));
	width: calc(100% + 2 * var(--border-width));
	height: calc(50% + 2 * var(--border-width) + var(--input-border-width) / 2);
	border: var(--border-width) solid var(--ui-color2);
	z-index: 12;
}
[data-current-player="user"] .current-player-indicator-bg {top: 0;}
[data-current-player="bot"] .current-player-indicator-bg {top: 50%;}
[data-current-player="user"] .current-player-indicator-border
{top: calc(-1 * var(--border-width));}
[data-current-player="bot"] .current-player-indicator-border
{top: calc(50% - var(--border-width) - var(--input-border-width) / 2);}



/* Done buttons */
.play-function-container {
	--tilebag-height: calc(3 * var(--big-tile-dimension) - 2 * var(--input-border-width));
	flex-direction: row;
	width: 100%;
	height: var(--tilebag-height);
	margin-bottom: 0.5rem;
}

.done-btns-container {
	width: 100%;
	height: 100%;
	margin-right: 0.5rem;
}

.done-btn {--inside-bg: var(--ui-color3);}
.done-btn + .done-btn {margin-top: calc(-1 * var(--input-border-width));}
.done-btn .btn-inside {
	flex-direction: row;
	justify-content: flex-start;
	font-size: 0.45rem;
	padding-left: 0.9rem;
}
.done-btn svg {
	height: 0.45rem;
	margin-right: 0.5em;
}



/* Tile bag */
.tilebag-container {
	--show-duration: 8s;
	position: relative;
	height: 100%;
}
.show-tilebag .tilebag-icon {
	opacity: 0;
	pointer-events: none;
}
.show-tilebag .tilebag-timer-bar {animation: timerBar linear var(--show-duration);}
.show-tilebag .tilebag-count-text {opacity: 0;}
.show-tilebag .tilebag-hover-text {opacity: 1;}
@keyframes timerBar {
	0%   {width: 100%;}
	100% {width:   0%;}
}

.tilebag-icon {
	justify-content: center;
	align-items: center;
	opacity: 1;
	height: 100%;
	background: var(--ui-color1);
	transition: all 0.2s;
	cursor: pointer;
	z-index: 101;
}

.tilebag-text {
	position: absolute;
	justify-content: center;
	align-items: center;
	text-align: center;
	width: 100%;
	font-size: calc(0.28 * var(--tilebag-height));
	margin-top: calc(0.22 * var(--tilebag-height));
	pointer-events: none;
}
.tilebag-count-text {opacity: 1;}
.tilebag-count {
	font-family: var(--font2);
	font-weight: 100;
}
.tilebag-tile-text {
	font-size: 0.35em;
	margin-top: -0.7em;
}
.tilebag-hover-text {
	position: absolute;
	opacity: 0;
	font-size: 0.5rem;
	font-style: italic;
	line-height: 1.1;
	margin-top: 0.4rem;
}
.tilebag-icon:hover .tilebag-count-text {opacity: 0;}
.tilebag-icon:hover .tilebag-hover-text {opacity: 1;}

.tilebag-icon svg {height: 100%;}

.tilebag-inside-container {
	position: absolute;
	top: 0;
	left: 0;
	align-items: center;
	height: 100%;
	width: 100%;
	border: var(--input-border-width) solid var(--ui-color2);
	overflow: hidden;
	z-index: 100;
}

.tilebag-scroll-container {
	align-items: center;
	width: 100%;
	height: 100%;
	overflow-y: scroll;
}

.tilebag-scroll-text {
	flex-direction: row;
	justify-content: center;
	align-items: center;
	font-size: 0.4rem;
	margin-top: 0.3rem;
	margin-bottom: 0.2rem;
}
.tilebag-scroll-text svg {
	height: 0.25rem;
	margin-left: 0.1rem;
	transform: rotate(90deg);
}

.tilebag-tiles-container {
	display: grid;
	grid-template-columns: repeat(3, auto);
	width: min-content;
	margin-bottom: 0.6rem;
	padding-left: var(--input-border-width);
	padding-top: var(--input-border-width);
}

.tilebag-tiles-container .tile {
	--tile-dimension: calc(0.95 * var(--small-tile-dimension));
	margin-top: calc(-1 * var(--input-border-width));
	margin-left: calc(-1 * var(--input-border-width));
}

.tilebag-timer {
	position: absolute;
	left: 0;
	bottom: 0;
	width: 100%;
	height: calc(3 * var(--input-border-width));
}
.tilebag-timer-bar {
	width: 0%;
	height: 100%;
	background: var(--ui-color2);
}



/* Play history */
.play-history-container {
	position: relative;
	flex-grow: 1;
	width: 100%;
	overflow: hidden;
}

.play-history-title {
	justify-content: center;
	align-self: flex-start;
	min-height: var(--big-tile-dimension);
	font-size: 0.45rem;
	font-style: italic;
	padding: 0 0.75rem;
	margin-bottom: auto;
	border: var(--input-border-width) solid var(--ui-color2);
	border-left: 0;
	z-index: 101;
}

.play-history-body {
	position: relative;
	flex-grow: 1;
	padding: calc(-1 * var(--input-border-width)) 0;
	border: var(--input-border-width) solid var(--ui-color2);
	border-bottom: 0;
	overflow: hidden;
}

.play-history-scroll-container {
	position: absolute;
	top: calc(-1 * var(--input-border-width));
	bottom: calc(-1 * var(--input-border-width));
	left: 0;
	width: 100%;
	height: calc(100% + 2 * var(--input-border-width));
	overflow-y: scroll;
	z-index: 100;
}

.play-history-message {
	flex-direction: row;
	align-items: center;
	width: 100%;
	padding: 0.5rem;
	margin-top: calc(-1 * var(--input-border-width));
	border: var(--input-border-width) solid var(--ui-color2);
	border-left: 0;
	border-right: 0;
}
.play-history-message[data-player="user"] {flex-direction: row-reverse;}
.play-history-message[data-player="user"] .play-history-text {
	text-align: end;
	margin-left: 0;
	margin-right: 0.5rem;
}

.play-history-message .player-icon {
	--dimension: var(--small-tile-dimension);
	border: var(--input-border-width) solid var(--ui-color2);
}

.play-history-text {
	flex-grow: 1;
	display: block;
	font-size: 0.45rem;
	line-height: 1.3;
	margin-left: 0.5rem;
}

.play-history-input-container {
	flex-direction: row;
	min-height: var(--big-tile-dimension);
	z-index: 101;
}

.play-history-textbox {
	flex-grow: 1;
	font-size: 0.5rem;
	padding: 0 0.5rem;
	background: transparent;
	border: var(--input-border-width) solid var(--ui-color2);
	border-right: 0;
	outline: none;
}
.play-history-textbox::placeholder {opacity: 0.4;}

.play-history-send-btn {
	width: var(--big-tile-dimension);
	height: 100%;
}
.play-history-send-btn svg {height: 0.5rem;}



/** Play column 2 */
.board-letter, .board-number, .cell, .cell-content {
	width: 1rem;
	height: 1rem;
}

.board-letter-container {
	grid-column-start: 1;
	grid-row-start: 1;
	flex-direction: row;
}
.board-number-container {
	grid-column-start: 2;
	grid-row-start: 2;
}

.board-letter, .board-number {
	justify-content: center;
	align-items: center;
	text-align: center;
	font-size: 0.5rem;
	font-weight: 600;
}
.board-letter {margin-left: var(--input-border-width);}
.board-number {margin-top: var(--input-border-width);}

.board-column {
	grid-column-start: 1;
	grid-row-start: 2;
}

.board {
	display: grid;
	grid-template-columns: repeat(var(--board-dimension), auto);
	padding: var(--input-border-width);
	padding-right: 0;
	padding-bottom: 0;
}

.cell {
	position: relative;
	justify-content: center;
	align-items: center;
	background: var(--bg);
	margin-left: calc(-1 * var(--input-border-width));
	margin-top: calc(-1 * var(--input-border-width));
	border: var(--input-border-width) solid var(--ui-color2);
	box-sizing: content-box;
}
.cell[cell-id="0"] {--bg: var(--cell-color);}
.cell[cell-id="1"] {--bg: var(--start-color);}
.cell[cell-id="1"] svg {
	height: 0.7rem;
	opacity: 0.5;
}
.cell[cell-id="1"] path {
	fill: var(--ui-color3);
	stroke: none;
}
.cell[cell-id="2"] {--bg: var(--dl-color);}
.cell[cell-id="3"] {--bg: var(--dw-color);}
.cell[cell-id="4"] {--bg: var(--tl-color);}
.cell[cell-id="5"] {--bg: var(--tw-color);}

.cell-abbr {
	font-size: 0.5rem;
	font-weight: 700;
	color: var(--ui-color3);
	opacity: 0.5;
	pointer-events: none;
}

.cell-indicator {
	position: absolute;
	width: calc(100% - var(--input-border-width));
	height: calc(100% - var(--input-border-width));
	pointer-events: none;
	z-index: 102 !important;
}
.cell:hover .cell-indicator {
	outline: calc(4 * var(--input-border-width)) solid var(--ui-color2);
}



/* Player hand */
.player-hand, .action-btn-container {width: 100%;}

.player-hand {
	flex-direction: row;
	justify-content: center;
	height: var(--big-tile-dimension);
	margin: 0.5rem 0;
}

.hand-btn {font-size: calc(var(--big-tile-dimension) / 2);}



/* Tiles */
.player-hand-tiles {
	flex-direction: row;
	margin: 0 0.5rem;
}

.tile-slot {
	justify-content: center;
	align-items: center;
	width: var(--big-tile-dimension);
	height: var(--big-tile-dimension);
}
.tile-slot + .tile-slot {margin-left: calc(-1 * var(--input-border-width));}

.tile-slot-indicator {
	position: absolute;
	height: calc(0.6 * var(--big-tile-dimension));
	width: calc(0.6 * var(--big-tile-dimension));
	border: var(--input-border-width) solid var(--ui-color2);
	border-radius: 50%;
}

.tile {
	justify-content: center;
	align-items: center;
	text-align: center;
	width: var(--tile-dimension);
	height: var(--tile-dimension);
	background: var(--tile-color);
	color: var(--ui-color2);
	border: var(--input-border-width) solid var(--ui-color2);
	user-select: none;
}
.tile, .tile * {transition: transform 0.05s;}
.tile.blank * {display: none;}

.tile[data-state="hand"] {
	position: relative;
}
.tile[data-state="dragging"] {
	--tile-dimension: var(--big-tile-dimension);
	position: absolute;
	pointer-events: none;
	z-index: 103 !important;
}
.tile[data-state="placed-hand"] {
	--tile-dimension: var(--small-tile-dimension);
	position: absolute;
}
.tile[data-state*="hand"]:hover {
	transform: scale(1.1);
	cursor: pointer;
}
.tile[data-state="placed-board"] {
	--tile-dimension: var(--small-tile-dimension);
	position: absolute;
	z-index: 101 !important;
}

.tile-inside {
	position: relative;
	flex-direction: row;
	width: 100%;
	height: 100%;
	padding: calc(var(--tile-dimension) / 20);
}

.tile-letter {
	flex-grow: 1;
	font-size: calc(0.6 * var(--tile-dimension));
	font-weight: 800;
}

.tile-points {
	justify-content: flex-end;
	font-size: calc(var(--tile-dimension) / 5);
	font-weight: 400;
	color: var(--ui-color2);
}



/* Board buttons */
.action-btn-container {
	flex-direction: row;
	height: var(--big-tile-dimension);
}

.action-btn, .hand-btn {width: 100%;}
.shuffle-btn svg {height: 0.7rem;}
.recall-btn svg {height: 0.5rem;}
.action-btn .btn-inside {
	flex-direction: row;
	font-size: 0.45rem;
}
.action-btn + .action-btn {margin-left: calc(-1 * var(--input-border-width));}
.action-btn svg {
	height: 0.4rem;
	margin-right: 0.5em;
}

.play-btn, .bot-play-btn {--inside-bg: var(--ui-color3);}